<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h2>fetch() - get 방식</h2>
    <!-- 
    fetch()함수 : 프라미스 기반으로 네트워크 요청을 처리해주는 함수.
        get방식, post방식을 사용할 수 있다.
    -->
    <script>
        async function requestData() {
            try{
                //외부 API 서버로 get방식 요청을 한다.
                const response = 
                    await fetch('https://jsonplaceholder.typicode.com/posts/1');
                //응답받은 데이터를 JSON형식으로 변환 후 변수에 저장한다.
                const data = await response.json();
                //콘솔에 출력
                console.log(data);
                //JSON 데이터를 객체 그대로 삽입할 경우 Object와 같이 출력된다.
                // document.getElementById('callBackMsg1').innerText = data;
                //따라서 문자열 형태로 변환후 삽입해야 정상적으로 출력된다.
                document.getElementById('callBackMsg').innerText =
                    JSON.stringify(data);
            }
            catch(error){
                console.error('fetch 통신 에러:', error);
            }
        }
    </script>
    <div id="callBackMsg"></div>
    <div>
        <button onclick="requestData();">요청하기</button>
    </div>
</body>
</html>
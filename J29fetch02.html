<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h2>fetch() - post 방식</h2>
    <script>
        const requestData = () => {
            fetch('https://jsonplaceholder.typicode.com/posts/', {
                //post방식으로 요청
                method : 'POST',
                //서버로 전송할 데이터를 객체형식으로 만든후 문자열 형태로 변환
                body: JSON.stringify({
                    title : 'React',
                    body: '최고의 프론트앤드 라이브러리',
                    userId: 1,
                    }),
                    //HTTP 헤더를 UTF-8로 설정
                    headers: {
                        'Content-type': 'application/json; charset=UTF-8',
                    },
                })
                /* 요청에 성공했을때 내부적으로 resolve()가 호출되면 then절로 
                콜백데이터가 반환된다. */
                .then((response) => response.json())
                /* 첫번째 then절에서 반환된 값은 두번째 then절로 전달된다.*/
                .then((json) => {
                    console.log(json)
                    document.getElementById('callBackMsg').innerText = 
                        JSON.stringify(json)
                })
            }
    </script>
    <div id="callBackMsg"></div>
    <div>
        <button onclick="requestData();">요청하기</button>
    </div>
</body>
</html>